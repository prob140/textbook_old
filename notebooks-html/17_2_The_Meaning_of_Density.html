<div id="ipython-notebook">
            <a class="interact-button" href="http://prob140.berkeley.edu/user-redirect/interact?repo=prob140&path=textbook/Chapter 17/17_2_The_Meaning_of_Density.ipynb">Interact</a>
            
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$','$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="The-Meaning-of-Density">The Meaning of Density<a class="anchor-link" href="#The-Meaning-of-Density">¶</a></h3><p>When we work with a discrete random variable $X$, a natural component of our calculations is the chance that $X$ has a particular value $k$. That's the probability we denote by $P(X = k)$.</p>
<p>What is the analog of $P(X = k)$ when $X$ has a density? If your answer is $P(X = x)$ for any number $x$, prepare to be disconcerted by the next paragraph.</p></div></div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="If-$X$-Has-a-Density,-Each-Individual-Value-Has-Probability-0">If $X$ Has a Density, Each Individual Value Has Probability 0<a class="anchor-link" href="#If-$X$-Has-a-Density,-Each-Individual-Value-Has-Probability-0">¶</a></h3><p>If $X$ has a density, then probabilities are defined as areas under the density curve. The area of a line is zero. So if $X$ has a density, then for every $x$,</p>
$$
P(X = x) ~ = ~ 0 
$$<p>"But $X$ has to be <em>some</em> value!" is a natural reaction to this. Take a moment now to reflect on the wonders of adding uncountably many zeros: on the real line, each point has length zero but intervals have positive length. On the plane, each line has area zero but rectangles have positive area. Calculus is powerful.</p>
<p>The fact that the chance of any single value is 0 actually reduces some bookkeeping: when we are calculating probabilities involving random variables that have densities, we don't need to worry about whether we should or should not include endpoints of intervals. The chance of each endpoint is 0, so for example,</p>
$$
F(x) ~ = ~ P(X \le x) ~ = ~ P(X &lt; x) ~~~ \text{for all } x
$$<p>Being able to drop the equal sign like this is a major departure from calculations involving discrete random variables; $P(X = k)$ has disappeared. But it does have an analog if we think in terms of infinitesimals.</p></div></div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="An-Infinitesimal-Calculation">An Infinitesimal Calculation<a class="anchor-link" href="#An-Infinitesimal-Calculation">¶</a></h3><p>In the theory of Riemann integration, the area under a curve is calculated by discrete approximation. The interval on the horizontal axis is divided into tiny little segments. Each segment becomes the base of a very narrow rectangle with a height determined by the curve. The total area of all these rectangular slivers is an approximation to the integral. As you make the slivers narrower, the sum approaches the area under the curve.</p>
<p>Let's examine this in the case of the density we used as our example in the previous section:</p>
$$
f(x) ~ = ~ 6x(1-x), ~~~ 0 &lt; x &lt; 1
$$<p>Here is one of those narrow slivers.</p></div></div>
<div class="output_png output_subarea ">
<img src="../notebooks-images/17_2_The_Meaning_of_Density_5_0.png"/></div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We will now set up some notation that we will use repeatedly.</p>
<ul>
<li>$x$ is a point on the horizontal axis</li>
<li>$dx$ stands for two things (this considerably simplifies writing):<ul>
<li>a tiny interval around $x$</li>
<li>the length of the tiny interval</li>
</ul>
</li>
</ul>
<p>Now $\{X \in dx \}$ is notation for "$X$ is in a tiny interval of length $dx$ around the point $x$". Don't worry about exactly what "around" means. It won't matter as we'll be taking limits as $dx$ goes to 0.</p>
<p>In this notation, the area of the gold sliver is essentially that of a rectangle with height $f(x)$ and width $dx$. We write</p>
$$
P(X \in dx) ~ \sim ~ f(x)dx
$$<p>where as usual $\sim$ means that the ratio of the two sides goes to 1 as $dx$ goes to 0.</p>
<p>We have seen that $f(x)$ is not a probability. But for tiny $dx$, the product $f(x)dx$ is essentially the probability that "$X$ is just around $x$".</p>
<p>This gives us an important analogy. When $X$ is discrete, then</p>
$$
P(a \le X \le b) ~ = ~ \sum_{k=a}^b P(X = k)
$$<p>When $X$ has density $f$, then
$$
P(a \le X \le b) ~ = ~ \int_a^b f(x)dx
$$</p>
<p>The calculus notation is clever as well as powerful. It involves two analogies:</p>
<ul>
<li>$f(x)dx$ is the chance the chance that $X$ is just around $x$</li>
<li>the integral is a continuous version of the sum</li>
</ul></div></div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Probability-Density">Probability Density<a class="anchor-link" href="#Probability-Density">¶</a></h3><p>We can rewrite $P(X \in dx) \sim f(x)dx$ as</p>
$$
f(x) ~ \sim ~ \frac{P(X \in dx)}{dx}
$$<p><strong>The function $f$ represents probability per unit length</strong>. That is why $f$ is called a <em>probability density function</em>.</p>
<p>Let's take another look at the graph of $f$.</p></div></div>
<div class="output_png output_subarea ">
<img src="../notebooks-images/17_2_The_Meaning_of_Density_8_0.png"/></div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If you simulate multiple independent copies of a random variable that has this density (exactly how to do that will be the subject of the next lab), then for example the simulated values will be more crowded around 0.5 than around 0.2.</p>
<p>The function <code>simulate_f</code> takes the number of copies as its argument and displays a histogram of the simulated values overlaid with the graph of $f$.</p></div></div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">simulate_f</span><span class="p">(</span><span class="mi">10000</span><span class="p">)</span>
</pre></div></div></div>
<div class="output_png output_subarea ">
<img src="../notebooks-images/17_2_The_Meaning_of_Density_10_0.png"/></div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The distribution of 10,000 simulated values follows $f$ pretty closely.</p>
<p>Compare the vertical scale of the histogram above with the vertical scale of the graph of $f$ that we drew earlier. You can see that they are the same apart from a conversion of proportions to percents.</p>
<p>Now you have a better understanding of why all histograms in Data 8 are drawn <em>to the density scale</em>, with</p>
$$
\text{height of bar} ~ = ~ \frac{\text{percent in bin}}{\text{width of bin}}
$$<p>so that the units of height are "percent per unit on the horizontal axis".</p></div></div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Not only does this way of drawing histograms allow you to account for bins of different widths, as discussed in Data 8, it also leads directly to probability densities of random variables.</p></div></div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div></div></div></div>