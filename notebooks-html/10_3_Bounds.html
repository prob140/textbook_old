<div id="ipython-notebook">
            <a class="interact-button" href="http://prob140.berkeley.edu/user-redirect/interact?repo=prob140&path=textbook/Chapter 10/10_3_Bounds.ipynb">Interact</a>
            
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$','$']],
      processEscapes: true
    }
  });
</script>
<script type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Tail-Bounds">Tail Bounds<a class="anchor-link" href="#Tail-Bounds">¶</a></h3><p>The right hand <em>tail</em> of the distribution of $X$ starting at the value $c$ is $P(X \ge c)$. This is the area to the right of $c$ under the probability histogram of $X$. Similarly you can define left hand tails.</p>
<p>If you know $E(X)$ and $SD(X)$ you can get some idea of how much probability there is the tails of the distribution.</p></div></div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To see how to do this, we will start with a preliminary about expectations of functions.</p>
<h4 id="Monotonicity">Monotonicity<a class="anchor-link" href="#Monotonicity">¶</a></h4><p>Suppose $g$ and $h$ are functions such that $g(X) \ge h(X)$, that is, $P(g(X) \ge h(X)) = 1$. Then $E(g(X)) \ge E(h(X))$.</p>
<p>This result is apparent when you notice that for all $\omega$ in the outcome space,
$$
(g \circ X)(\omega) \ge (h \circ X)(\omega) ~~~~ \text{and therefore} ~~~~
(g \circ X)(\omega)P(\omega) \ge (h \circ X)(\omega)P(\omega)
$$</p>
<p>We are going to use this result to try and get bounds on tail probabilities such as the one in the graph below.</p></div></div>
<div class="output_png output_subarea ">
<img src="../notebooks-images/10_3_Bounds_3_0.png"/></div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Markov's-Inequality">Markov's Inequality<a class="anchor-link" href="#Markov's-Inequality">¶</a></h3><p>Supppose $X$ is a non-negative random variable, and consider the two functions $g$ and $h$ graphed below. Clearly $g \ge h$.</p></div></div>
<div class="output_png output_subarea ">
<img src="../notebooks-images/10_3_Bounds_5_0.png"/></div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The function $g$ is the identity. It leaves $x$ unchanged: $g(x) = x$. The function $h$ truncates $x$ at $c &gt; 0$ as follows: if $x &lt; c$ then $h(x) = 0$, and if $x \ge c$ then $h(x) = c$.</p>
<p>Clearly $g \ge h$, and so</p></div></div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
$$
E(X) ~ = ~ E(g(X)) ~ \ge ~ E(h(X)) ~ = ~ E(cI(X \ge c)) ~ =  ~ cP(X \ge c)
$$<p>We have just proved</p>
<h4 id="Markov's-Inequality">Markov's Inequality<a class="anchor-link" href="#Markov's-Inequality">¶</a></h4><p>Let $X$ be a non-negative random variable. Then for any $c &gt; 0$, 
$$
P(X \ge c) ~ \le ~ \frac{E(X)}{c}
$$</p>
<p>This result is called a "tail bound" because it puts an upper limit on how big the right tail at $c$ can be.</p>
<p>In the figure below, $E(X) = 6.5$ and $c = 20$. Markov's inequality says that the gold area is <em>at most</em>
$$
\frac{6.5}{20} = 0.325
$$
You can see that the bound is pretty crude. The gold area is clearly quite a bit less than 0.325.</p></div></div>
<div class="output_png output_subarea ">
<img src="../notebooks-images/10_3_Bounds_8_0.png"/></div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Another way to think of Markov's bound is that if $X$ is a non-negative random variable then</p>
$$
P(X \ge k\mu_X) ~ \le ~ \frac{1}{k} ~~~ \text{for all } k &gt; 0
$$<p>That is, $P(X \ge 2\mu_X) \le 1/2$, $P(X \ge 5\mu_X) \le 1/5$, and so on. The chance that a non-negative random variable is at least $k$ times the mean is at most $1/k$.</p></div></div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Notes:</p>
<ul>
<li>$k$ need not be an integer. For example, the chance that a non-negative random variable is at least 3.8 times the mean is at most $1/3.8$.</li>
<li>If $k \le 1$, the inequality doesn't tell you anything you didn't already know. If $k \le 1$ then Markov's bound is 1 or greater. All probabilities are bounded above by 1, so the inequality is true but useless for $k \le 1$. </li>
<li>When $k$ is large, the bound does tell you something. You are looking at a probability quite far out in the tail of the distribution, and Markov's bound is $1/k$ which is quite small.</li>
</ul></div></div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Chebychev's-Inequality">Chebychev's Inequality<a class="anchor-link" href="#Chebychev's-Inequality">¶</a></h3><p>Markov's bound only uses $E(X)$, not $SD(X)$. To get bounds on tails it seems better to use $SD(X)$ if can. <em>Chebychev's Inequality</em> does just that. It provides a bound on the two tails outside an interval that is symmetric about $E(X)$ as in the following graph.</p></div></div>
<div class="output_png output_subarea ">
<img src="../notebooks-images/10_3_Bounds_12_0.png"/></div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The red arrow marks $\mu_X$ as usual, and now the two blue arrows are at a distance of $SD(X)$ on either side of the mean. It is often going to be convenient to think of $E(X)$ as "the origin" and to measure distances in units of SDs on either side.</p>
<p>Thus we can think of the gold area as the probability that $X$ is at least $z$ SDs away from $\mu_X$, for some positive $z$. Now</p></div></div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
\begin{align*}
P\big{(}|X - \mu_X| \ge z\sigma_X\big{)} &amp;= P\big{(}(X-\mu_X)^2 \ge z^2\sigma_X^2\big{)} \\ \\
&amp;\le \frac{E\big{[}(X-\mu_X)^2\big{]}}{z^2\sigma_X^2} ~~~~~ \text{(Markov's Inequality)}\\ \\
&amp;= \frac{\sigma_X^2}{z^2\sigma_X^2} ~~~~~ \text{(definition of variance)} \\ \\
&amp;= \frac{1}{z^2}
\end{align*}<p>Chebychev's Inequality makes no assumptions about the shape of the distribution. It implies that no matter what the distribution of $X$ looks like,</p>
<ul>
<li><p>$P(\mu_X - 2\sigma_X &lt; X &lt; \mu_X + 2\sigma_X) &gt; 1 - 1/4 = 75\%$</p>
</li>
<li><p>$P(\mu_X - 3\sigma_X &lt; X &lt; \mu_X + 3\sigma_X) &gt; 1 - 1/9 = 88.88...\%$</p>
</li>
<li>$P(\mu_X - 4\sigma_X &lt; X &lt; \mu_X + 4\sigma_X) &gt; 1 - 1/16 = 93.75\%$</li>
<li>$P(\mu_X - 5\sigma_X &lt; X &lt; \mu_X + 5\sigma_X) &gt; 1 - 1/25 = 96\%$</li>
</ul>
<p>That is, <em>no matter what the shape of the distribution</em>, the bulk of the probability is in the interval "expected value plus or minus a few SDs".</p>
<p>This is one reason why the SD is a good measure of spread. No matter what the distribution, if you know the expectation and the SD then you have a pretty good sense of where the bulk of the probability is located.</p>
<p>If you happen to know more about the distribution then of course you can do better than Chebychev's bound. But in general Chebychev's bound is as well as you can do without making further assumptions.</p></div></div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Standard-Units">Standard Units<a class="anchor-link" href="#Standard-Units">¶</a></h3><p>To formalize the notion of "setting $\mu_X$ as the origin and measuring distances in units of $\sigma_X$, we define a random variable $Z$ called "$X$ in standard units" as follows:</p>
$$
Z = \frac{X - \mu_X}{\sigma_X}
$$<p>$Z$ measures how far $X$ is above its mean, relative to its SD. In other words, $X$ is $Z$ SDs above the mean:</p>
$$
X = Z\sigma_X + \mu_X
$$<p>It is important to learn to go back and forth between these two scales of measurement, as we will be using standard units quite frequently. Note that by the linear function rules,</p>
$$
E(Z) = 0 ~~~~ \text{and} ~~~~ SD(Z) = 1
$$<p>no matter what the distribution of $X$ is.</p>
<p>Chebychev's Inequality says</p>
$$
P(|X - \mu_X| &gt; z\sigma_X) \le \frac{1}{z^2}
$$<p>which is the same as saying</p>
$$
P(|Z| \ge z) \le \frac{1}{z^2}
$$<p>So if you have converted a random variable to standard units, the overwhelming majority of the values of the standardized variable should be in the range $-5$ to $5$. It is possible that there are values outside that range, but it is not likely.</p></div></div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div></div></div></div>